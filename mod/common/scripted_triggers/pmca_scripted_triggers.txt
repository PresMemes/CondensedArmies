# ID Trigger
has_condensed_armies = {
	always = yes
}

# This bit of script allows me to check for various conditions so I can hide condensed armies, preventing them from cluttering the army screen
# This is also used to keep the AI from spamming nothing but condensed armies and for the mod menu
# Scope: this = country
# Parameters: PMCA_MULT (ten, hundred), PMCA_RESOURCE, PMCA_VALUE
pmca_materiel_policy_check = {
	optimize_memory
	OR = {
		is_ai = no
		has_global_flag = pmca_ai_allowed
	}
	has_country_flag = pmca_times_$PMCA_MULT$_set
	resource_stockpile_compare = {
		resource = $PMCA_RESOURCE$
		value >= $PMCA_VALUE$
	}
}

# Check if the army is a PMCA army
# Scopes: this = army
pmca_is_condensed_army = {
	OR = {
		has_army_flag = pmca_times_ten_army
		has_army_flag = pmca_times_hundred_army
		pmca_is_times_ten_army = yes
		pmca_is_times_hundred_army = yes
	}
}

# Scopes: this = army
pmca_is_times_ten_army = {
	OR = {
		has_army_flag = pmca_times_ten_army
		army_type = pmca_ten_assault_army
		army_type = pmca_ten_slave_army
		army_type = pmca_ten_clone_army
		army_type = pmca_ten_robotic_army
		army_type = pmca_ten_psionic_army
		army_type = pmca_ten_xenomorph_army
		army_type = pmca_ten_gene_warrior_army
		army_type = pmca_ten_machine_assault_1
		army_type = pmca_ten_machine_assault_2
		army_type = pmca_ten_machine_assault_3
		army_type = pmca_ten_undead_army
		army_type = pmca_ten_warpling_army
		army_type = pmca_ten_flamestorm_troopers_army
		army_type = pmca_ten_cybrex_warform
		army_type = pmca_ten_esc_psionic_avatar_army
		army_type = pmca_ten_esc_erasure_squad_army
		army_type = pmca_ten_esc_eradicator_droids_army
		army_type = pmca_ten_esc_tesla_troopers_army
		army_type = pmca_ten_esc_tesla_droids_army
		army_type = pmca_ten_esc_biohorror_army
		army_type = pmca_ten_riesigerkatzenpanzer_assault
		army_type = pmca_ten_giga_eaw_crystal_army
		army_type = pmca_ten_giga_eaw_crystal_army_drone
		army_type = pmca_ten_shroud_summoned_army
		army_type = pmca_ten_maginot_assault_unit
		army_type = pmca_ten_maginot_machine_assault_unit
		army_type = pmca_ten_acot_infantry_dm
		army_type = pmca_ten_acot_infantry_ae
		army_type = pmca_ten_acot_infantry_se
		army_type = pmca_ten_acot_infantry_autoarmor
		army_type = pmca_ten_acot_infantry_autoarmor_se
		army_type = pmca_ten_acot_infantry_medium_autoarmor
		army_type = pmca_ten_acot_infantry_medium_autoarmor_se
		army_type = pmca_ten_acot_infantry_heavy_autoarmor
		army_type = pmca_ten_acot_infantry_heavy_autoarmor_se
		army_type = pmca_ten_acot_slave_army_dm
		army_type = pmca_ten_acot_undead_army_dm
		army_type = pmca_ten_acot_light_armor
		army_type = pmca_ten_acot_light_armor_pilot
		army_type = pmca_ten_acot_light_armor_dm
		army_type = pmca_ten_acot_light_armor_pilot_dm
		army_type = pmca_ten_acot_light_armor_ae
		army_type = pmca_ten_acot_light_armor_pilot_ae
		army_type = pmca_ten_acot_light_armor_se
		army_type = pmca_ten_acot_light_armor_pilot_se
		army_type = pmca_ten_acot_heavy_armor
		army_type = pmca_ten_acot_heavy_armor_pilot
		army_type = pmca_ten_acot_heavy_armor_dm
		army_type = pmca_ten_acot_heavy_armor_pilot_dm
		army_type = pmca_ten_acot_heavy_armor_ae
		army_type = pmca_ten_acot_heavy_armor_pilot_ae
		army_type = pmca_ten_acot_heavy_armor_se
		army_type = pmca_ten_acot_heavy_armor_pilot_se
		army_type = pmca_ten_acot_drone_army
		army_type = pmca_ten_acot_drone_army_dm
		army_type = pmca_ten_acot_drone_army_ae
		army_type = pmca_ten_acot_drone_army_se
		army_type = pmca_ten_acot_droid_army_dm
		army_type = pmca_ten_acot_droid_army_ae
		army_type = pmca_ten_acot_droid_army_se
		army_type = pmca_ten_acot_droid_army_torso
		army_type = pmca_ten_acot_droid_army_torso_dm
		army_type = pmca_ten_acot_droid_army_torso_ae
		army_type = pmca_ten_acot_droid_army_torso_se
		army_type = pmca_ten_acot_droid_mech
		army_type = pmca_ten_acot_droid_mech_dm
		army_type = pmca_ten_acot_droid_mech_ae
		army_type = pmca_ten_acot_droid_mech_se
		army_type = pmca_ten_acot_special_force
		army_type = pmca_ten_acot_special_force_dm
		army_type = pmca_ten_acot_special_force_ae
		army_type = pmca_ten_acot_special_force_se
		army_type = pmca_ten_acot_army_mat
		army_type = pmca_ten_acot_army_mat_pilot
		army_type = pmca_ten_acot_army_mat_se
		army_type = pmca_ten_acot_army_mat_pilot_se
		army_type = pmca_ten_acot_army_spirit
		army_type = pmca_ten_acot_army_spirit_se
		army_type = pmca_ten_acot_army_phobe
		army_type = pmca_ten_acot_army_phobe_se
		army_type = pmca_ten_acot_army_phile
		army_type = pmca_ten_acot_army_phile_se
		army_type = pmca_ten_acot_army_ega
		army_type = pmca_ten_acot_army_ega_pilot
		army_type = pmca_ten_acot_army_ega_se
		army_type = pmca_ten_acot_army_ega_pilot_se
		army_type = pmca_ten_acot_army_auth
		army_type = pmca_ten_acot_army_auth_se
		army_type = pmca_ten_acot_army_paci
		army_type = pmca_ten_acot_army_paci_se
		army_type = pmca_ten_acot_army_mili
		army_type = pmca_ten_acot_army_mili_se
		army_type = pmca_ten_acot_army_cyborg
		army_type = pmca_ten_acot_army_cyborg_se
		army_type = pmca_ten_acot_army_cyborg_torso
		army_type = pmca_ten_acot_army_cyborg_torso_se
		army_type = pmca_ten_acot_army_synth
		army_type = pmca_ten_acot_army_synth_se
		army_type = pmca_ten_acot_army_synth_torso
		army_type = pmca_ten_acot_army_synth_torso_se
		army_type = pmca_ten_acot_army_psi
		army_type = pmca_ten_acot_army_psi_se
		army_type = pmca_ten_acot_army_clone_dm
		army_type = pmca_ten_acot_army_gene
		army_type = pmca_ten_acot_army_gene_se
		army_type = pmca_ten_acot_army_machine_dm
		army_type = pmca_ten_acot_army_machine_ae
		army_type = pmca_ten_acot_army_machine_se
		army_type = pmca_ten_acot_army_machine_torso
		army_type = pmca_ten_acot_army_machine_torso_dm
		army_type = pmca_ten_acot_army_machine_torso_ae
		army_type = pmca_ten_acot_army_machine_torso_se
		army_type = pmca_ten_acot_army_machine_spm
		army_type = pmca_ten_acot_army_machine_spm_dm
		army_type = pmca_ten_acot_army_machine_spm_ae
		army_type = pmca_ten_acot_army_machine_spm_se
		army_type = pmca_ten_acot_army_machine_light_dm
		army_type = pmca_ten_acot_army_machine_light_ae
		army_type = pmca_ten_acot_army_machine_light_se
		army_type = pmca_ten_acot_army_machine_light_torso
		army_type = pmca_ten_acot_army_machine_light_torso_dm
		army_type = pmca_ten_acot_army_machine_light_torso_ae
		army_type = pmca_ten_acot_army_machine_light_torso_se
		army_type = pmca_ten_acot_army_machine_heavy_dm
		army_type = pmca_ten_acot_army_machine_heavy_ae
		army_type = pmca_ten_acot_army_machine_heavy_se
		army_type = pmca_ten_acot_army_machine_cyborg
		army_type = pmca_ten_acot_army_machine_cyborg_dm
		army_type = pmca_ten_acot_army_machine_cyborg_ae
		army_type = pmca_ten_acot_army_machine_cyborg_se
		army_type = pmca_ten_acot_army_machine_cyborg_torso
		army_type = pmca_ten_acot_army_machine_cyborg_torso_dm
		army_type = pmca_ten_acot_army_machine_cyborg_torso_ae
		army_type = pmca_ten_acot_army_machine_cyborg_torso_se
		army_type = pmca_ten_acot_army_machine_special
		army_type = pmca_ten_acot_army_machine_special_se
		army_type = pmca_ten_acot_army_machine_special_torso
		army_type = pmca_ten_acot_army_machine_special_torso_se
		army_type = pmca_ten_acot_hive_infantry_1
		army_type = pmca_ten_acot_hive_infantry_dm
		army_type = pmca_ten_acot_hive_infantry_ae
		army_type = pmca_ten_acot_hive_infantry_se
		army_type = pmca_ten_acot_hive_clone_infantry_1
		army_type = pmca_ten_acot_hive_clone_infantry_dm
		army_type = pmca_ten_acot_hive_swarmer_1
		army_type = pmca_ten_acot_hive_swarmer_dm
		army_type = pmca_ten_acot_hive_swarmer_ae
		army_type = pmca_ten_acot_hive_swarmer_se
		army_type = pmca_ten_acot_hive_broodling_1
		army_type = pmca_ten_acot_hive_broodling_dm
		army_type = pmca_ten_acot_hive_broodling_ae
		army_type = pmca_ten_acot_hive_broodling_se
		army_type = pmca_ten_acot_hive_clone_swarmer_1
		army_type = pmca_ten_acot_hive_light_1
		army_type = pmca_ten_acot_hive_light_dm
		army_type = pmca_ten_acot_hive_light_ae
		army_type = pmca_ten_acot_hive_light_se
		army_type = pmca_ten_acot_hive_clone_light_1
		army_type = pmca_ten_acot_hive_clone_light_dm
		army_type = pmca_ten_acot_hive_heavy_1
		army_type = pmca_ten_acot_hive_heavy_dm
		army_type = pmca_ten_acot_hive_heavy_ae
		army_type = pmca_ten_acot_hive_heavy_se
		army_type = pmca_ten_acot_hive_heavy_cocoon_1
		army_type = pmca_ten_acot_hive_heavy_cocoon_dm
		army_type = pmca_ten_acot_hive_heavy_cocoon_ae
		army_type = pmca_ten_acot_hive_heavy_cocoon_se
		army_type = pmca_ten_acot_army_hive_gene
		army_type = pmca_ten_acot_army_hive_gene_ae
		army_type = pmca_ten_acot_army_hive_gene_se
		army_type = pmca_ten_acot_army_hive_gene_cocoon
		army_type = pmca_ten_acot_army_hive_gene_cocoon_dm
		army_type = pmca_ten_acot_army_hive_gene_cocoon_ae
		army_type = pmca_ten_acot_army_hive_gene_cocoon_se
		army_type = pmca_ten_acot_army_hive_control
		army_type = pmca_ten_acot_army_hive_control_se
		army_type = pmca_ten_acot_army_hive_control_cocoon
		army_type = pmca_ten_acot_army_hive_control_cocoon_se
		army_type = pmca_ten_acot_army_stellarite_bomber
	}
}

# Scopes: this = army
pmca_is_times_hundred_army = {
	OR = {
		has_army_flag = pmca_times_hundred_army
		army_type = pmca_hundred_assault_army
		army_type = pmca_hundred_slave_army
		army_type = pmca_hundred_clone_army
		army_type = pmca_hundred_robotic_army
		army_type = pmca_hundred_psionic_army
		army_type = pmca_hundred_xenomorph_army
		army_type = pmca_hundred_gene_warrior_army
		army_type = pmca_hundred_machine_assault_1
		army_type = pmca_hundred_machine_assault_2
		army_type = pmca_hundred_machine_assault_3
		army_type = pmca_hundred_undead_army
		army_type = pmca_hundred_warpling_army
		army_type = pmca_hundred_flamestorm_troopers_army
		army_type = pmca_hundred_cybrex_warform
		army_type = pmca_hundred_esc_psionic_avatar_army
		army_type = pmca_hundred_esc_erasure_squad_army
		army_type = pmca_hundred_esc_eradicator_droids_army
		army_type = pmca_hundred_esc_tesla_troopers_army
		army_type = pmca_hundred_esc_tesla_droids_army
		army_type = pmca_hundred_esc_biohorror_army
		army_type = pmca_hundred_riesigerkatzenpanzer_assault
		army_type = pmca_hundred_giga_eaw_crystal_army
		army_type = pmca_hundred_giga_eaw_crystal_army_drone
		army_type = pmca_hundred_shroud_summoned_army
		army_type = pmca_hundred_maginot_assault_unit
		army_type = pmca_hundred_maginot_machine_assault_unit
		army_type = pmca_hundred_acot_infantry_dm
		army_type = pmca_hundred_acot_infantry_ae
		army_type = pmca_hundred_acot_infantry_se
		army_type = pmca_hundred_acot_infantry_autoarmor
		army_type = pmca_hundred_acot_infantry_autoarmor_se
		army_type = pmca_hundred_acot_infantry_medium_autoarmor
		army_type = pmca_hundred_acot_infantry_medium_autoarmor_se
		army_type = pmca_hundred_acot_infantry_heavy_autoarmor
		army_type = pmca_hundred_acot_infantry_heavy_autoarmor_se
		army_type = pmca_hundred_acot_slave_army_dm
		army_type = pmca_hundred_acot_undead_army_dm
		army_type = pmca_hundred_acot_light_armor
		army_type = pmca_hundred_acot_light_armor_pilot
		army_type = pmca_hundred_acot_light_armor_dm
		army_type = pmca_hundred_acot_light_armor_pilot_dm
		army_type = pmca_hundred_acot_light_armor_ae
		army_type = pmca_hundred_acot_light_armor_pilot_ae
		army_type = pmca_hundred_acot_light_armor_se
		army_type = pmca_hundred_acot_light_armor_pilot_se
		army_type = pmca_hundred_acot_heavy_armor
		army_type = pmca_hundred_acot_heavy_armor_pilot
		army_type = pmca_hundred_acot_heavy_armor_dm
		army_type = pmca_hundred_acot_heavy_armor_pilot_dm
		army_type = pmca_hundred_acot_heavy_armor_ae
		army_type = pmca_hundred_acot_heavy_armor_pilot_ae
		army_type = pmca_hundred_acot_heavy_armor_se
		army_type = pmca_hundred_acot_heavy_armor_pilot_se
		army_type = pmca_hundred_acot_drone_army
		army_type = pmca_hundred_acot_drone_army_dm
		army_type = pmca_hundred_acot_drone_army_ae
		army_type = pmca_hundred_acot_drone_army_se
		army_type = pmca_hundred_acot_droid_army_dm
		army_type = pmca_hundred_acot_droid_army_ae
		army_type = pmca_hundred_acot_droid_army_se
		army_type = pmca_hundred_acot_droid_army_torso
		army_type = pmca_hundred_acot_droid_army_torso_dm
		army_type = pmca_hundred_acot_droid_army_torso_ae
		army_type = pmca_hundred_acot_droid_army_torso_se
		army_type = pmca_hundred_acot_droid_mech
		army_type = pmca_hundred_acot_droid_mech_dm
		army_type = pmca_hundred_acot_droid_mech_ae
		army_type = pmca_hundred_acot_droid_mech_se
		army_type = pmca_hundred_acot_special_force
		army_type = pmca_hundred_acot_special_force_dm
		army_type = pmca_hundred_acot_special_force_ae
		army_type = pmca_hundred_acot_special_force_se
		army_type = pmca_hundred_acot_army_mat
		army_type = pmca_hundred_acot_army_mat_pilot
		army_type = pmca_hundred_acot_army_mat_se
		army_type = pmca_hundred_acot_army_mat_pilot_se
		army_type = pmca_hundred_acot_army_spirit
		army_type = pmca_hundred_acot_army_spirit_se
		army_type = pmca_hundred_acot_army_phobe
		army_type = pmca_hundred_acot_army_phobe_se
		army_type = pmca_hundred_acot_army_phile
		army_type = pmca_hundred_acot_army_phile_se
		army_type = pmca_hundred_acot_army_ega
		army_type = pmca_hundred_acot_army_ega_pilot
		army_type = pmca_hundred_acot_army_ega_se
		army_type = pmca_hundred_acot_army_ega_pilot_se
		army_type = pmca_hundred_acot_army_auth
		army_type = pmca_hundred_acot_army_auth_se
		army_type = pmca_hundred_acot_army_paci
		army_type = pmca_hundred_acot_army_paci_se
		army_type = pmca_hundred_acot_army_mili
		army_type = pmca_hundred_acot_army_mili_se
		army_type = pmca_hundred_acot_army_cyborg
		army_type = pmca_hundred_acot_army_cyborg_se
		army_type = pmca_hundred_acot_army_cyborg_torso
		army_type = pmca_hundred_acot_army_cyborg_torso_se
		army_type = pmca_hundred_acot_army_synth
		army_type = pmca_hundred_acot_army_synth_se
		army_type = pmca_hundred_acot_army_synth_torso
		army_type = pmca_hundred_acot_army_synth_torso_se
		army_type = pmca_hundred_acot_army_psi
		army_type = pmca_hundred_acot_army_psi_se
		army_type = pmca_hundred_acot_army_clone_dm
		army_type = pmca_hundred_acot_army_gene
		army_type = pmca_hundred_acot_army_gene_se
		army_type = pmca_hundred_acot_army_machine_dm
		army_type = pmca_hundred_acot_army_machine_ae
		army_type = pmca_hundred_acot_army_machine_se
		army_type = pmca_hundred_acot_army_machine_torso
		army_type = pmca_hundred_acot_army_machine_torso_dm
		army_type = pmca_hundred_acot_army_machine_torso_ae
		army_type = pmca_hundred_acot_army_machine_torso_se
		army_type = pmca_hundred_acot_army_machine_spm
		army_type = pmca_hundred_acot_army_machine_spm_dm
		army_type = pmca_hundred_acot_army_machine_spm_ae
		army_type = pmca_hundred_acot_army_machine_spm_se
		army_type = pmca_hundred_acot_army_machine_light_dm
		army_type = pmca_hundred_acot_army_machine_light_ae
		army_type = pmca_hundred_acot_army_machine_light_se
		army_type = pmca_hundred_acot_army_machine_light_torso
		army_type = pmca_hundred_acot_army_machine_light_torso_dm
		army_type = pmca_hundred_acot_army_machine_light_torso_ae
		army_type = pmca_hundred_acot_army_machine_light_torso_se
		army_type = pmca_hundred_acot_army_machine_heavy_dm
		army_type = pmca_hundred_acot_army_machine_heavy_ae
		army_type = pmca_hundred_acot_army_machine_heavy_se
		army_type = pmca_hundred_acot_army_machine_cyborg
		army_type = pmca_hundred_acot_army_machine_cyborg_dm
		army_type = pmca_hundred_acot_army_machine_cyborg_ae
		army_type = pmca_hundred_acot_army_machine_cyborg_se
		army_type = pmca_hundred_acot_army_machine_cyborg_torso
		army_type = pmca_hundred_acot_army_machine_cyborg_torso_dm
		army_type = pmca_hundred_acot_army_machine_cyborg_torso_ae
		army_type = pmca_hundred_acot_army_machine_cyborg_torso_se
		army_type = pmca_hundred_acot_army_machine_special
		army_type = pmca_hundred_acot_army_machine_special_se
		army_type = pmca_hundred_acot_army_machine_special_torso
		army_type = pmca_hundred_acot_army_machine_special_torso_se
		army_type = pmca_hundred_acot_hive_infantry_1
		army_type = pmca_hundred_acot_hive_infantry_dm
		army_type = pmca_hundred_acot_hive_infantry_ae
		army_type = pmca_hundred_acot_hive_infantry_se
		army_type = pmca_hundred_acot_hive_clone_infantry_1
		army_type = pmca_hundred_acot_hive_clone_infantry_dm
		army_type = pmca_hundred_acot_hive_swarmer_1
		army_type = pmca_hundred_acot_hive_swarmer_dm
		army_type = pmca_hundred_acot_hive_swarmer_ae
		army_type = pmca_hundred_acot_hive_swarmer_se
		army_type = pmca_hundred_acot_hive_broodling_1
		army_type = pmca_hundred_acot_hive_broodling_dm
		army_type = pmca_hundred_acot_hive_broodling_ae
		army_type = pmca_hundred_acot_hive_broodling_se
		army_type = pmca_hundred_acot_hive_clone_swarmer_1
		army_type = pmca_hundred_acot_hive_light_1
		army_type = pmca_hundred_acot_hive_light_dm
		army_type = pmca_hundred_acot_hive_light_ae
		army_type = pmca_hundred_acot_hive_light_se
		army_type = pmca_hundred_acot_hive_clone_light_1
		army_type = pmca_hundred_acot_hive_clone_light_dm
		army_type = pmca_hundred_acot_hive_heavy_1
		army_type = pmca_hundred_acot_hive_heavy_dm
		army_type = pmca_hundred_acot_hive_heavy_ae
		army_type = pmca_hundred_acot_hive_heavy_se
		army_type = pmca_hundred_acot_hive_heavy_cocoon_1
		army_type = pmca_hundred_acot_hive_heavy_cocoon_dm
		army_type = pmca_hundred_acot_hive_heavy_cocoon_ae
		army_type = pmca_hundred_acot_hive_heavy_cocoon_se
		army_type = pmca_hundred_acot_army_hive_gene
		army_type = pmca_hundred_acot_army_hive_gene_ae
		army_type = pmca_hundred_acot_army_hive_gene_se
		army_type = pmca_hundred_acot_army_hive_gene_cocoon
		army_type = pmca_hundred_acot_army_hive_gene_cocoon_dm
		army_type = pmca_hundred_acot_army_hive_gene_cocoon_ae
		army_type = pmca_hundred_acot_army_hive_gene_cocoon_se
		army_type = pmca_hundred_acot_army_hive_control
		army_type = pmca_hundred_acot_army_hive_control_se
		army_type = pmca_hundred_acot_army_hive_control_cocoon
		army_type = pmca_hundred_acot_army_hive_control_cocoon_se
		army_type = pmca_hundred_acot_army_stellarite_bomber
	}
}
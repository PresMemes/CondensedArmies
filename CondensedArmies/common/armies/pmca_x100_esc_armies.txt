############################################################
###                      ESC armies                      ###
############################################################

### Psionic Avatar : Psionic weapons' subtree
pmca_hundred_esc_psionic_avatar_army = {
	damage = 500
	health = 700
	morale_damage = 2.0
	war_exhaustion = 500
	time = 25
	has_species = no
	has_morale = no
	use_armynames_from = esc_psionic_avatar_army

	icon = GFX_esc_army_psi_avatar

	resources = {
		category = armies
		cost = {
			energy = 250000
			sr_zro = 10000
		}
	}

	show_tech_unlock_if = {
		NOT = { has_global_flag = ESC_GLOBAL_FLAG_psionic_weapons_forbidden }
	}

	potential_country = {
		has_global_flag = Extra_Ship_Components_NEXT
		OR = {
			is_machine_empire = no
			has_country_flag = ESC_COUNTRY_FLAG_machine_psionics
			has_country_flag = ESC_COUNTRY_FLAG_mod_allow_basic_psionic_weapons
		}
		pmca_materiel_policy_check = {
			PMCA_MULT = hundred
			PMCA_RESOURCE = sr_zro
			PMCA_VALUE = 10000
		}
	}
	
	potential = {
		custom_tooltip = {
			planet = { is_capital = yes }
		}
	}

	prerequisites = { esc_tech_psi_avatar_army }

	ai_weight = {
		base = 200
		modifier = {
			set = 0
			is_fallen_empire = yes
			NOT = { has_ethic = ethic_fanatic_spiritualist }
		}
	}
}

### Erasure Squad : Chrono-spatial weapons' subtree
pmca_hundred_esc_erasure_squad_army = {
	damage = 700
	health = 200
	morale = 200
	morale_damage = 3.0
	war_exhaustion = 30
	time = 360
	use_armynames_from = esc_erasure_squad_army

	icon = GFX_esc_army_chrono_trooper

	resources = {
		category = armies
		cost = {
			energy = 25000
			minerals = 50000
			sr_dark_matter = 1000
		}
		upkeep = {
			energy = 200
		}
	}

	show_tech_unlock_if = {
		NOT = { has_global_flag = ESC_GLOBAL_FLAG_chronospatial_weapons_forbidden }
		OR = {
			is_machine_empire = no
			has_valid_civic = civic_machine_assimilator
		}
	}

	potential_country = {
		has_global_flag = Extra_Ship_Components_NEXT
		is_machine_empire = no
		pmca_materiel_policy_check = {
			PMCA_MULT = hundred
			PMCA_RESOURCE = sr_dark_matter
			PMCA_VALUE = 1000
		}
	}

	potential = {
		from = { is_sapient = yes }
	}

	prerequisites = { esc_tech_chrono_spatial_weapons }

	ai_weight = {
		base = 150
	}
}

### Eradicator Droids : mechanical verions of Erasure Squads
pmca_hundred_esc_eradicator_droids_army = {
	damage = 700
	health = 200
	morale_damage = 3.0
	war_exhaustion = 300
	time = 360
	has_morale = no
	has_species = no
	use_armynames_from = esc_eradicator_droids_army

	icon = GFX_esc_army_chrono_trooper

	resources = {
		category = armies
		cost = {
			energy = 25000
			alloys = 20000
			sr_dark_matter = 1000
		}
		upkeep = {
			energy = 200
		}
	}

	show_tech_unlock_if = {
		NOT = { has_global_flag = ESC_GLOBAL_FLAG_chronospatial_weapons_forbidden }
		is_machine_empire = yes
	}

	potential_country = {
		has_global_flag = Extra_Ship_Components_NEXT
		OR = {
			is_machine_empire = yes
			has_country_flag = synthetic_age
		}
		pmca_materiel_policy_check = {
			PMCA_MULT = hundred
			PMCA_RESOURCE = sr_dark_matter
			PMCA_VALUE = 1000
		}
	}

	prerequisites = { esc_tech_chrono_spatial_weapons }

	ai_weight = {
		base = 200
	}
}

### Tesla Troopers : organic tesla armies
pmca_hundred_esc_tesla_troopers_army = {
	damage = 350
	health = 400
	morale = 200
	morale_damage = 2.0
	war_exhaustion = 150
	time = 360
	use_armynames_from = esc_tesla_troopers_army

	icon = GFX_esc_army_tesla_trooper

	resources = {
		category = armies
		cost = {
			energy = 15000
			minerals = 40000
		}
		upkeep = {
			energy = 100
		}
	}

	show_tech_unlock_if = {
		NOT = { has_global_flag = ESC_GLOBAL_FLAG_tesla_weapons_forbidden }
		is_machine_empire = no
	}

	potential_country = {
		has_global_flag = Extra_Ship_Components_NEXT
		is_machine_empire = no
		pmca_materiel_policy_check = {
			PMCA_MULT = hundred
			PMCA_RESOURCE = minerals
			PMCA_VALUE = 40000
		}
	}

	prerequisites = { esc_tech_tesla_weapons }

	ai_weight = {
		base = 200
	}
}

### Tesla Droids : mechanical tesla armies
pmca_hundred_esc_tesla_droids_army = {
	damage = 350
	health = 400
	morale_damage = 2.0
	war_exhaustion = 150
	time = 360
	has_morale = no
	has_species = no
	use_armynames_from = esc_tesla_droids_army

	icon = GFX_esc_army_tesla_trooper

	resources = {
		category = armies
		cost = {
			energy = 15000
			alloys = 10000
		}
		upkeep = {
			energy = 100
		}
	}

	show_tech_unlock_if = {
		NOT = { has_global_flag = ESC_GLOBAL_FLAG_tesla_weapons_forbidden }
		is_machine_empire = yes
	}

	potential_country = {
		has_global_flag = Extra_Ship_Components_NEXT
		OR = {
			is_machine_empire = yes
			has_country_flag = synthetic_age
		}
		pmca_materiel_policy_check = {
			PMCA_MULT = hundred
			PMCA_RESOURCE = alloys
			PMCA_VALUE = 10000
		}
	}

	prerequisites = { esc_tech_tesla_weapons }

	ai_weight = {
		base = 200
	}
}

### Bio-Horror Horde : advanced bio-ascension army
pmca_hundred_esc_biohorror_army = {
	health = 400
	damage = 400
	morale_damage = 2.5
	collateral_damage = 400
	war_exhaustion = 25
	time = 100
	has_morale = no
	has_species = no
	use_armynames_from = esc_biohorror_army

	icon = GFX_army_type_xenomorph

	resources = {
		category = armies
		cost = {
			minerals = 35000
		}
		upkeep = {
			energy = 200
		}
	}

	potential_country = {
		has_global_flag = Extra_Ship_Components_NEXT
		ESC_TRIGGER_may_research_biological_weapons_advanced = yes
		pmca_materiel_policy_check = {
			PMCA_MULT = hundred
			PMCA_RESOURCE = minerals
			PMCA_VALUE = 35000
		}
	}

	prerequisites = { esc_tech_bio_horror_army }

	ai_weight = {
		base = 20
		modifier = {
			factor = 10
			is_xenophobe = yes
		}
		modifier = {
			set = 0
			OR = {
				is_pacifist = yes
				is_xenophile = yes
			}
		}
		modifier = {
			set = 0
			is_fallen_empire = yes
			NOT = { has_ethic = ethic_fanatic_xenophobe }
		}
	}
}
